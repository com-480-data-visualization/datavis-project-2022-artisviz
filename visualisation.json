{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "description": "Povevrty rate evolution in EU countries.",
  "width": 300,
  "height": 300,
  "data": {
      "url": "https://raw.githubusercontent.com/com-480-data-visualization/datavis-project-2022-artisviz/main/Milestone3/data/final_EU.csv"
  },
  
          "params": [{
              "name": "grid",
              "select": "interval",
              "bind": "scales"
            },
              {
                  "name": "measure",
                  "value": "temp_max",
                  "bind": {
                      "input": "select",
                      "options": [null,
                          "Poverty rate (no unit)","GDP per hours worked (USD/hour)","Income Inequality (no unit)","Employment Rate (no unit)"
                      ]
                  }
              },
              
              {
                  "name": "Select",
                  "select": {
                      "type": "point",
                      "fields": [
                          "country"
                      ]
                  },
                  "bind": {
                      "input": "select",
                      "options":[null, "AUT", "BEL", "CZE", "DNK", "FIN", "FRA", "DEU","GRC", "HUN", "IRL", "ITA", "LUX", "NLD", "POL", "PRT", "SVK", "ESP", "SWE","EST", "SVN", "LVA", "LTU"]}
              },
              {
                  "name": "hover",
                  "value": [
                      {
                          "country": "AUT"
                      }
                  ],
                  "select": {
                      "type": "point",
                      "fields": [
                          "country"
                      ],
                      "on": "mouseover"
                  }
              }
          ],
          "transform": [
              {
                  "calculate": "datum[measure]",
                  "as": "y"
              }
          ],

          
          "mark": {
              "type": "line",
              "point": true,
              "tooltip": true,
              "strokeWidth": 3
          },
          "encoding": {
              "x": {
                  "field": "Year",
                  "timeUnit": "year",
                  "scale": {
                      "zero": false
                  },
                  "axis": {"grid": false}

              },
              "y": {
                  "field": "y",
                  "aggregate": "mean",
                  "scale": {
                      "zero": false
                  },
                  "axis": {"title":"measure", "grid": false}
              },
              "color": {
                  "condition": {
                      "param": "Selection",
                      "field": "country",
                      "type": "nominal",
                      "scale": {"scheme": "category20b"}
                  },
                  "value": ""
              },
              "opacity": {
                  "condition": {
                      "param": "hover",
                      "value": 1
                  },
                  "value": 0.1
              }
          }
}