{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "description": "Povevrty rate evolution in EU countries.",
    "width": 400,
    "height": 600,
    "data": {
        "url": "https://raw.githubusercontent.com/com-480-data-visualization/datavis-project-2022-artisviz/main/Milestone3/data/final.csv"
    },

    "params": [
        {
            "name": "measure",
            "value": "temp_max",
            "bind": {
                "input": "select",
                "options": [null,
                    "Poverty index (no unit)",
                    "GDP per hours worked wage (USD/hour)",
                    "Gini coefficient (no units)",
                    "Employment rate (% of working age population)"
                ]
            }
        },
        {
            "name": "country",
            "select": {
                "type": "point",
                "fields": [
                    "LOCATION"
                ]
            },
            "bind": {
                "input": "select",
                "options": [
                    null,
                    "AUT",
                    "BEL",
                    "CZE",
                    "DNK",
                    "FIN",
                    "FRA",
                    "DEU",
                    "GRC",
                    "HUN",
                    "IRL",
                    "ITA",
                    "LUX",
                    "NLD",
                    "POL",
                    "PRT",
                    "SVK",
                    "ESP",
                    "SWE",
                    "EST",
                    "SVN",
                    "LVA",
                    "LTU"
                ]
            }
        },
        {
            "name": "hover",
            "value": [
                {
                    "LOCATION": "AUT"
                }
            ],
            "select": {
                "type": "point",
                "fields": [
                    "LOCATION"
                ],
                "on": "mouseover"
            }
        }
    ],
    "transform": [
        {
            "calculate": "datum[measure]",
            "as": "y"
        }
    ],
    "mark": {
        "type": "line",
        "point": true,
        "tooltip": true,
        "strokeWidth": 3
    },
    "encoding": {
        "x": {
            "field": "Year",
            "timeUnit": "year",
            "scale": {
                "zero": false
            }
        },
        "y": {
            "field": "y",
            "aggregate": "mean",
            "scale": {
                "zero": false
            }
        },
        "color": {
            "condition": {
                "param": "hover",
                "field": "LOCATION",
                "type": "nominal"
            },
            "value": "grey"
        },
        "opacity": {
            "condition": {
                "param": "hover",
                "value": 1
            },
            "value": 0.2
        }
    }
}