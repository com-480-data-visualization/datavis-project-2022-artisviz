
{  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
"data": {"url": "https://raw.githubusercontent.com/com-480-data-visualization/datavis-project-2022-artisviz/main/Milestone3/data/correlation_NEU.csv"},
"encoding": {
  "y": {"field": "Field 2", "type": "ordinal","axis": {"title": ""}},
  "x": {"field": "Field 1", "type": "ordinal","axis": {"title": ""}}
},
"width": 300,
"height":300,

"params": [
  {
    "name": "Selection",
    "select": {
        "type": "point",
        "fields": [
            "country"
        ]
    },
    "bind": {
        "input": "select",
        "options": [null, "AUS","CAN","KOR","MEX","NOR","CHE","GBR","USA","ISR","ISL","NZL","CHL"]
    }
}
],
"transform": [
  {
      "calculate": "datum[Selection][Value]",
      "as": "y"
  }
],
"layer": [
  
  {
    "mark": "rect",
    "encoding": {
      "color": {
        "field": "Value",
        "type": "quantitative",
        "title": "Correlation coefficient",
        "legend": {"direction": "vertical", "gradientLength": 120}
      }
    }
  },
  {
    "mark": "text",
    "encoding": {
      "text": {"field": "Value", "type": "quantitative"},
      "color": {
        "condition": {"test": "datum['Value'] < 0.5", "value": "black"},
        "value": "white"
      }
    }
  }
],
"config": {
  "axis": {"grid": true, "tickBand": "extent"}
}
}